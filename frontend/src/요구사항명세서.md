## 실시간 바다낚시 지수 및 해양 데이터 분석 대시보드 서비스: 요구사항 명세서

### 1. 프로젝트 개요

*   **프로젝트명**: 실시간 바다낚시 지수 및 해양 데이터 분석 대시보드
*   **프로젝트 목표**: 전국의 주요 낚시 포인트별 실시간 해양 데이터와 어종별 낚시 지수를 시각적으로 제공하여, 낚시객들이 최적의 출조 계획을 수립하고 안전한 낚시 활동을 할 수 있도록 지원하는 것을 목표로 한다.
*   **주요 사용자**: 취미 또는 전문적으로 바다낚시를 즐기는 모든 낚시객
*   **데이터 출처**: 바다낚시 지수 및 기상·해양 공공데이터 External API

### 2. 기능 요구사항

#### 2.1. 메인 대시보드

**2.1.1. 주요 요약 지표 (KPI Widgets)**
*   **설명**: 사용자가 선택한 지역의 핵심 낚시 환경 정보를 한눈에 파악할 수 있도록 대시보드 상단에 위젯 형태로 제공한다.
*   **세부 기능**:
    *   **통합 지수 (totalIndex)**: 현재 낚시 여건을 '매우좋음', '좋음', '보통', '나쁨', '매우나쁨' 5단계의 텍스트와 직관적인 색상(예: 파랑-초록-노랑-주황-빨강)으로 표시한다.
    *   **최종 점수 (lastScr)**: 해당 지역의 낚시 적합도를 0점에서 100점 사이의 숫자로 명확하게 표시한다.
    *   **예보 시점**: 데이터의 기준 시간을 명확히 하기 위해 예보 날짜(predcYmd)와 예보 시점(predcNoonSeCd, 오전/오후)을 항상 표시한다.

**2.1.2. 지도 기반 시각화 (Map View)**
*   **설명**: 전국 낚시 포인트의 위치와 상태를 지도 위에 시각화하여 지리적 분포와 전반적인 상황을 쉽게 이해할 수 있도록 한다.
*   **세부 기능**:
    *   **위치 마커**: API를 통해 받은 각 포인트의 위도(lat), 경도(lot) 정보를 사용하여 지도에 마커를 표시한다.
    *   **상태 시각화**: 각 마커의 색상을 '통합 지수(totalIndex)'와 연동하여 상태(매우좋음-파랑, 매우나쁨-빨강 등)를 시각적으로 표현한다.
    *   **지역별 상세 조회**: 사용자가 지도에서 특정 마커를 클릭하면, 해당 지역의 상세 데이터(KPI 위젯, 상세 정보 차트 등)가 대시보드에 즉시 업데이트되어야 한다.
    *   **지역 검색 기능**: 사용자가 '서귀포', '울릉도' 등 특정 지역명을 입력하여 해당 위치로 지도를 이동하고 데이터를 조회할 수 있는 검색창을 제공한다.

#### 2.2. 상세 정보 뷰

**2.2.1. 해양 및 기상 상세 정보 (Detailed Metrics)**
*   **설명**: 낚시 환경에 직접적인 영향을 미치는 핵심 해양 및 기상 데이터를 차트와 그래프로 시각화하여 제공한다.
*   **세부 기능**:
    *   **파고 및 풍속**: 최소/최대 파고(minWvhgt, maxWvhgt)와 풍속(minWspd, maxWspd) 정보를 막대그래프 또는 게이지 차트로 시각화하여 안전성을 직관적으로 판단할 수 있게 한다.
    *   **수온 및 기온**: 최소/최대 수온(minWtem, maxWtem)과 기온(minArtmp, maxArtmp)의 범위를 표시하여 대상 어종의 예상 활성도를 예측하는 데 도움을 준다.
    *   **유속(조류)**: 최소/최대 유속(minCrsp, maxCrsp) 정보를 제공하여 물때의 강약을 파악하고 낚시 전략을 세우는 데 활용하게 한다.

**2.2.2. 대상 어종별 맞춤 필터 (Target Fish Filter)**
*   **설명**: 사용자가 특정 어종을 선택하면, 해당 어종에 최적화된 낚시 지수 정보를 필터링하여 보여준다.
*   **세부 기능**:
    *   **어종 선택 기능**: 감성돔, 농어, 참돔, 우럭, 돌돔, 벵에돔 등 API에서 제공하는 대상 어종(seafsTgfshNm) 목록을 드롭다운 메뉴나 버튼 그룹 형태로 제공한다.
    *   **데이터 필터링**: 어종 선택 시, 해당 어종의 낚시 지수 및 물때 점수(tdlvHrScr)를 기준으로 대시보드의 모든 정보(지도 포함)가 실시간으로 업데이트되어야 한다.
    *   **물때 점수 표시**: 어종별로 특화된 물때 점수(tdlvHrScr)를 다른 지표와 구분하여 명확하게 표시해 주어야 한다.

#### 2.3. 사용자 인터랙션

**2.3.1. 시간대별 비교 기능**
*   **설명**: 동일 지역의 오전과 오후 데이터를 손쉽게 비교하여 시간대별 낚시 환경 변화 추세를 파악할 수 있게 한다.
*   **세부 기능**:
    *   대시보드 내에 '오전'/'오후'를 선택할 수 있는 토글 버튼 또는 탭을 제공한다.
    *   선택에 따라 해당 시간대의 데이터로 즉시 전환되어야 하며, 이를 통해 사용자는 '좋음'에서 '나쁨'으로 바뀌는 등의 변화를 인지할 수 있어야 한다.

**2.3.2. 위험 알림 기능**
*   **설명**: 특정 지역의 낚시 지수가 '매우나쁨'일 경우, 사용자에게 명확한 경고를 표시하여 안전사고를 예방한다.
*   **세부 기능**:
    *   지도에서 '매우나쁨' 상태인 포인트의 마커는 시각적으로 강조(예: 깜빡임 효과)한다.
    *   해당 지역 선택 시, 화면 상단이나 해당 위젯에 "위험: 출조에 각별한 주의가 필요합니다."와 같은 경고 메시지를 붉은색 텍스트로 표시한다.

### 3. 비기능 요구사항

*   **성능**:
    *   API 호출 및 데이터 로딩 시간은 3초 이내에 완료되어야 한다.
    *   지도 스크롤, 마커 클릭, 필터링 등 사용자 인터랙션은 지연 없이 즉각적으로 반응해야 한다.
*   **사용성**:
    *   IT 기기에 익숙하지 않은 사용자도 쉽게 이해하고 사용할 수 있도록 직관적인 UI/UX를 제공해야 한다.
    *   PC 웹 브라우저 및 모바일 환경에서도 화면 깨짐 없이 정상적으로 정보를 조회할 수 있는 반응형 웹 디자인을 적용해야 한다.
*   **신뢰성**:
    *   외부 API 장애 발생 시, "현재 외부 데이터 서버에 문제가 발생했습니다."와 같은 안내 메시지를 사용자에게 명확히 전달해야 한다.
    *   API에서 제공하지 않는 데이터 항목(null 값)이 있을 경우, UI가 깨지지 않고 "정보 없음" 등으로 정상적으로 처리해야 한다.
*   **확장성**:
    *   향후 새로운 낚시 포인트나 어종이 추가되더라도 유연하게 시스템에 반영할 수 있는 구조로 설계되어야 한다.

### 4. 주요 데이터 항목 정의

| 한글명 | 필드명 | 설명 |
|---|---|---|
| 통합 지수 | totalIndex | 낚시 여건 종합 지수 ('매우좋음' ~ '매우나쁨') |
| 최종 점수 | lastScr | 낚시 적합도 수치 점수 |
| 예보 날짜 | predcYmd | 데이터 예보 기준일 (YYYYMMDD) |
| 예보 시점 | predcNoonSeCd | 오전(1)/오후(2) 구분 코드 |
| 위도 | lat | 낚시 포인트의 위도 |
| 경도 | lot | 낚시 포인트의 경도 |
| 최소 파고 | minWvhgt | 최소 파고 (m) |
| 최대 파고 | maxWvhgt | 최대 파고 (m) |
| 최소 풍속 | minWspd | 최소 풍속 (m/s) |
| 최대 풍속 | maxWspd | 최대 풍속 (m/s) |
| 최소 수온 | minWtem | 최소 수온 (°C) |
| 최대 수온 | maxWtem | 최대 수온 (°C) |
| 최소 기온 | minArtmp | 최소 기온 (°C) |
| 최대 기온 | maxArtmp | 최대 기온 (°C) |
| 최소 유속 | minCrsp | 최소 유속 (cm/s) |
| 최대 유속 | maxCrsp | 최대 유속 (cm/s) |
| 대상 어종명 | seafsTgfshNm | 필터링 대상이 되는 어종의 이름 |
| 물때 점수 | tdlvHrScr | 특정 어종에 대한 물때 시간 점수 |

### 5. 예상 화면 구성 (UI/UX 와이어프레임)

*   **상단 헤더**: 서비스 제목("실시간 바다낚시 대시보드"), 날짜/시간 선택 컨트롤
*   **좌측 패널 (지도 뷰)**:
    *   전국 지도가 표시되며, 각 포인트에 상태별 색상 마커가 존재.
    *   지도 상단에 지역 검색창 배치.
*   **우측 패널 (상세 정보 뷰)**:
    *   **상단**: 선택된 지역의 KPI 위젯 (통합 지수, 최종 점수, 예보 시점) 표시.
    *   **중단**: 어종 선택 필터 (드롭다운) 및 시간대(오전/오후) 선택 토글.
    *   **하단**: 상세 메트릭 차트 (파고, 풍속, 수온, 기온, 유속) 및 어종별 물때 점수 표시.
*   **초기 화면**: 기본 지역(예: 가장 인기 있는 포인트 또는 전국 평균)의 데이터를 로드하여 보여준다.
